# ä¿®æ”¹åŸºç¡€ Sample_V1.4.0 https://github.com/sve1r/Rules-For-Quantumult-X
# 
# ä»¥ ';' æˆ– '#' æˆ– '//' å¼€å¤´çš„é…ç½®æ–‡ä»¶è¡Œä¸ºæ³¨é‡Šè¡Œ
#
# æ›´æ–°æ—¶é—´: 2023å¹´11æœˆ22æ—¥
# æµ‹è¯•ç¯å¢ƒ: ios17.1
# ================

# åŸºç¡€éƒ¨åˆ†
[general]
// > é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://img.sveir.xyz/static/favicon%40trs.png
// > ç½‘ç»œæµ‹è¯•é“¾æ¥
network_check_url = http://www.bing.com
// > æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
server_check_url = http://www.gstatic.com/generate_204
// > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
// > èŠ‚ç‚¹ GEO ä½ç½®ä¿¡æ¯æ£€æµ‹
// å¦‚æœä¸éœ€è¯†åˆ«èŠ‚ç‚¹åœ°åŒºä¸ºä¸­æ–‡å’Œæ˜¾ç¤ºå›½æ——ï¼Œè¯·å°†ä¸‹é¢è¡Œ geo_location_checker è¿›è¡Œæ³¨é‡ŠÃŸ
geo_location_checker = http://ip-api.com/json/?lang=zh-CN,https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
// > æŒ‡å®š WiFi SSID ä¸‹çš„è¿è¡Œæ¨¡å¼
// å¦‚æœéœ€è¦æŒ‡å®š å¯¹åº” SSID çš„è¿è¡Œæ¨¡å¼,è¯·å–æ¶ˆä¸‹åˆ—æ³¨é‡Šå¹¶è‡ªå®šé…ç½®
;running_mode_trigger = filter, filter, asus-5g:all_direct, asus:all_proxy
// > èµ„æºè§£æå™¨
resource_parser_url = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
// > DNS æ’é™¤åˆ—è¡¨
// ä¸ä½¿ç”¨ fakeip æ˜ å°„ï¼Œå¯ä¸€å®šç¨‹åº¦é˜²æ­¢æ£€æµ‹åˆ°ä½¿ç”¨ä»£ç†
dns_exclusion_list = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.qq.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *?miwifi.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, time.*.apple.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*
// > æ’é™¤è·¯ç”±
// ä»¥ä¸‹ ip-cidr ä¸­çš„è·¯ç”±å°†ä¸ç»ç”± QuantumultX è¿›è¡Œå¤„ç†
excluded_routes = 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8, 239.255.255.250/32

# åŸŸåè§£æéƒ¨åˆ†
[dns]
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ç³»ç»Ÿ DNSï¼ˆno-system), è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-system
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ IPv6, è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-ipv6
// å¦‚éœ€ä½¿ç”¨ DNS over HTTP/3ï¼Œè¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;prefer-doh3

// æŒ‡å®š DNS æœåŠ¡å™¨ï¼Œå¹¶å‘å“åº”é€‰å–æœ€ä¼˜ç»“æœ
server = 119.29.29.29
server = 182.254.116.116
server = 223.5.5.5
server = 223.6.6.6
server = 119.28.28.28

# âš ï¸ æ³¨æ„ ä¸å»ºè®®åœ¨æ­¤å¯¹ å¾®ä¿¡ä»¥åŠQQç­‰å³æ—¶é€šè®¯å·¥å…·è¿›è¡Œ æŒ‡å®šåŸŸååˆ†é…DNS
# æ­¤æ“ä½œå°†å¯èƒ½å¯¼è‡´å¾®ä¿¡æ¶ˆæ¯å»¶è¿Ÿæ¨é€

// å¦‚æœéœ€è¦æŒ‡å®š DNS over HTTP æœåŠ¡ï¼Œåˆ™ä¸Šåˆ—æŒ‡å®šçš„ DNS æœåŠ¡å™¨ *å‡å°†å¤±æ•ˆ* ï¼Œåœ¨ç‰¹å®šç½‘ç»œä¸‹ç¦ç”¨è¯¥ doh
;doh-server = https://doh.pub/dns-query, https://223.5.5.5/dns-query, https://223.6.6.6/dns-query

# åˆ†æµç­–ç•¥ç»„
[policy]
static = OutSide, Hong Kong, Singapore, Taiwan, United States, Japan, Korea, Other, direct,  img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Airport.png
static = Final, OutSide, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
// åˆ†æµ
static = DomesticMedia, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Domestic.png
static = Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Back.png
static = Apple, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
static = Apple Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple_Update.png
static = Google, OutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google.png
static = Google Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
static = Hijacking, reject, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png
static = Advertising, reject, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png
// æŒ‰åœ°åŒºåˆ†ç±»
static = Hong Kong, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=é¦™æ¸¯|Hong Kong|HK|hk, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
static = Singapore, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=æ–°åŠ å¡|Singapore|SG|sg, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
static = Taiwan, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=å°æ¹¾|Taiwan|TW|tw|å°åŒ—, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
static = United States, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=ç¾å›½|United States|US|us, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
static = Japan, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=æ—¥æœ¬|Japan|JP|jp, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
static = Korea, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=éŸ©å›½|Korea|KR|kr, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
static = Other, resource-tag-regex=ğŸ§ æˆ‘çš„è®¢é˜…, server-tag-regex=å°åº¦|å·´è¥¿|é˜¿æ ¹å»·|è‹±å›½|æ¾³é—¨|åœŸè€³å…¶|æŒªå¨|ç‘å£«|ä¿„ç½—æ–¯|ç‘å…¸|çˆ±å°”å…°|æ³•å›½|è²å¾‹å®¾|è¶Šå—|æ³°å›½|å°åº¦å°¼è¥¿äºš|å¾·å›½|è‹±å›½|è·å…°|ä¹Œå…‹å…°, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AIA.png


[server_local]

[server_remote]
https://example.com/subscribe.snippet,tag=ğŸ§ æˆ‘çš„è®¢é˜…,enabled=true, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Heart.png


[filter_local]
#æœ¬åœ°åˆ†æµè§„åˆ™(å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ)
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
# å·²é‡‡ç”¨ ip æ± æ•°æ®ï¼Œå› æ­¤æ³¨é‡Šæ‰ geoip cn
;geoip, cn, direct
final, Final

[filter_remote]
https://rules-for-qx.sveir.xyz/Rules/Advertising/Hijacking.list, tag=Hijacking, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Advertising/AdReject.list, tag=Advertising, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Services/Google.list, tag=Google, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Services/Microsoft.list, tag=Microsoft, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Media/DomesticMedia.list, tag=DomesticMedia, force-policy=direct, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Media/ForeignMedia.list, tag=ForeignMedia, force-policy=OutSide, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Region/Global.list, tag=Global, force-policy=OutSide, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Services/Apple.list, tag=Apple, force-policy=direct, enabled=true
https://rules-for-qx.sveir.xyz/Rules/Region/China.list, tag=Domestic, force-policy=direct, enabled=true

[rewrite_local]

[rewrite_remote]
# ======= ä¼šå‘˜è§£é” ======= #
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Bilibili.conf, tag=Bç«™å»å¹¿å‘Š+1080Pé«˜ç ç‡@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/UnlockVip/Spotify.conf, tag=SpotifyéŸ³ä¹VIP[éŸ³è´¨â‰¤é«˜]@app2smile, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/dev/raw/master/ForOwnUse.conf, tag=å¢¨é±¼ä¸“å±VIP@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/89996462/Quantumult-X/main/ycdz/qyxj.js, tag=è½»é¢œç›¸æœºVIP, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/QuantumultX/rewrite/FanQieNovel.qxrewrite, tag=ç•ªèŒ„å»ç« æœ«å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true


# ======= å¹¿å‘Šå‡€åŒ– ======= #
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/StartUp.conf, tag=å¢¨é±¼å»å¼€å±2.0@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zheye/zheye.snippet, tag=çŸ¥ä¹å»å¹¿å‘ŠåŠä½“éªŒå¢å¼º@blackmatrix7, update-interval=86400, opt-parser=false, enabled=false
https://github.com/app2smile/rules/raw/master/module/tieba-qx.conf, tag=ç™¾åº¦è´´å§å»å¹¿å‘Š@app2smile, update-interval=86400, opt-parser=false, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Applet.conf, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š@Maasea, update-interval=86400, opt-parser=false, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=false


# ======= ç½‘é¡µä¼˜åŒ– ======= #
https://github.com/ddgksf2013/Rewrite/raw/master/Html/Douban.conf, tag=è±†ç“£ç”µå½±ç½‘é¡µå¿«æ·è·³è½¬@ddgksf2013, update-interval=86400, opt-parser=false, enabled=false


# ======= åŠŸèƒ½å¢å¼º ======= #
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/XiaoHongShu.conf, tag=å°çº¢ä¹¦å‡€åŒ–+å»æ°´å°@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://gist.githubusercontent.com/ddgksf2013/f43026707830c7818ee3ba624e383c8d/raw/baiduCloud.vip.js, tag=ç™¾åº¦ç½‘ç›˜å‡€åŒ–+å€é€Ÿ@ddgksf2013, update-interval=86400, opt-parser=true, enabled=false
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL@zZPiglet, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/TikTok.conf, tag=Tiktokè§£é”[éœ€æ—§ç‰ˆV21]@Orz-3, update-interval=86400, opt-parser=false, enabled=false
#Netflix IMDB è©•åˆ†
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Netflix_ratings.conf, tag=Netflixè¯„åˆ†@Orz-3, update-interval=86400, opt-parser=false, enabled=false
https://kinta.ma/surge/netflix_rating.sgmodule, tag=Netflix IMDB è©•åˆ†, update-interval=86400, opt-parser=true, enabled=false


# ======= æœªç»æµ‹è¯• ======= #
https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/QuantumultX/rewrite/googleRedirect.qxrewrite, tag=è°·æ­Œé‡å®šå‘, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/AdvertisingLite/AdvertisingLite.conf, tag=å»å¹¿å‘Š, update-interval=172800, opt-parser=true, enabled=true


[task_local]
# æµåª’ä½“æŸ¥è¯¢è„šæœ¬
;event-interaction https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/streaming-ui-check.js, tag = æµåª’ä½“ - è§£é”æŸ¥è¯¢ï¼Œimg-url=checkmark.seal.system, enabled=true

[http_backend]

[mitm]
